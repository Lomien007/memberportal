{% extends "base.html" %}
{% load payments_extras %}

{% block title %}Members overview{% endblock %}

{% block content %}
  <h2>Summary</h2>
  <table class="table table-striped table-bordered overview-table">
    <tr>
      <td> Number of members: </td>
      <td> <a href="{% url members_list %}">{{ members|length }}</a></td>
    </tr><tr>
      <td> Number of paying members: </td>
      <td> {{ paying|length }} </td>
    </tr><tr>
      <td> Number of non-paying members: </td>
      <td> {{ not_paying|length }} </td>
    </tr><tr>
      <td> Number of awaiting members: </td>
      <td> <a href="{% url members_list_awaiting %}">{{ awaiting|length }}</a></td>
    </tr><tr>
      <td> Number of rejected members: </td>
      <td> <a href="{% url members_list_rejected %}">{{ rejected|length }}</a></td>
    </tr><tr>
      <td> Number of ex members: </td>
      <td> <a href="{% url members_list_ex %}">{{ ex|length }}</a></td>
    </tr>
  </table>

  <h3>Members with missing payments</h3>
  <table class="table table-striped table-bordered overview-table">
    {% for usr, months in not_paying %}
      <tr>
        <td>{{ usr }}</td>
        <td>{{ months|length }}</td>
      </tr>
    {% endfor %}
  </table>
{% endblock %}
